
---------------------------------------------------------
1. Store the SHA of the target image inside the target image and
   embed it in the manifest (group and kata).
   This will require all LTF images to contain their SHA
   (which they currently do not).

Viz
manifest = {
   "image_name":"cyberdojofoundation/java_junit",
   ...
}
becomes
manifest = {
   "image_name":"cyberdojofoundation/java_junit",
   "sha":"67889b9aa6d1c390df248ab1ad161e78daa0be8b",
   ...
}

---------------------------------------------------------
2. Store the event summary info in each full event file.

Viz for manifest...

event_summary = {
  'event' => 'created',
  'time' => manifest['created'],
  'index' => 0
}
# So you can diff against the first traffic-light.
to_diff = {
  'files' => manifest['visible_files']
}

becomes

...
to_diff = {
  'files' => manifest['visible_files']
}.merge(event_summary)

and for ran_tests()....

event_n = {
  'files' => files,
  'stdout' => stdout,
  'stderr' => stderr,
  'status' => status
}
event_summary = {
  'colour' => colour,
  'time' => now,
  'duration' => duration,
  'index' => index
}

becomes

...
event_n = {
  'files' => files,
  'stdout' => stdout,
  'stderr' => stderr,
  'status' => status
}.merge(event_summary)
