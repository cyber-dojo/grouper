
fullnameOverride: "saver"

updateStrategy: "Recreate"

replicaCount: 1

service:
  port: 4537
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "4537"

volumes:
  - name: saver-tmp-dir
    emptyDir: {}
  - name: saver-data
    persistentVolumeClaim:
      claimName: saver-data

podSecurityContext:
  runAsUser: 19663
  fsGroup: 65533

containers:
  - name: saver
    image: cyberdojo/saver
    securityContext:
      allowPrivilegeEscalation: false
    volumeMounts:
      - name: saver-tmp-dir
        mountPath: /tmp
        readOnly: false
      - name: saver-data
        mountPath: /cyber-dojo
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 100m
        memory: 256Mi
    #livenessProbe:
    #  path: /alive?
    #  port: 4537
    #readinessProbe:
    #  path: /ready?
    #  port: 4537

envFromSecret: {}

nodeSelector: {}

affinity: {}

tolerations: []
